<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../dist/output.css" rel="stylesheet" />
    <title>Dashboard</title>
  </head>
  <body class="bg-gray-100">
    <div class="flex h-screen p-9">
      <!-- Sidebar -->
      <aside
        class="bg-gray-800 text-white w-36 flex flex-col items-center py-4 space-y-8 rounded-lg"
      >
        <div class="w-20 h-20 bg-gray-600 rounded-full"></div>
        <nav class="space-y-6">
          <img
            src="./img/dashboard.svg"
            alt="Dashboard"
            class="w-10 h-10 cursor-pointer hover:opacity-75"
          />
          <img
            src="./img/barang.png"
            alt="File"
            class="w-10 h-10 cursor-pointer hover:opacity-75 bg-gray-600 rounded-md p-1"
          />
          <img
            src="./img/category.png"
            alt="Edit"
            class="w-10 h-10 cursor-pointer hover:opacity-75"
          />
          <img
            src="./img/in.svg"
            alt="Logout"
            class="w-10 h-10 cursor-pointer hover:opacity-75"
          />
          <img
            src="./img/out.svg"
            alt="Login"
            class="w-10 h-10 cursor-pointer hover:opacity-75"
          />
        </nav>
        <div class="mt-auto">
          <img
            src="/img/settings.svg"
            alt="Settings"
            class="w-10 h-10 cursor-pointer hover:opacity-75"
          />
        </div>
      </aside>

      <!-- Main Content -->
      <main class="flex-1 py-6 pl-16 overflow-auto">
        <div class="flex justify-between items-center mb-6">
          <div class="relative w-1/2">
            <input
              type="text"
              placeholder="Cari Barang..."
              class="w-full py-2 pl-10 pr-4 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400"
            />
            <img
              src="./img/search.svg"
              alt="Search"
              class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5"
            />
          </div>
          <div class="relative inline-block text-left">
            <div>
              <button
                type="button"
                class="flex items-center space-x-2 bg-gray-200 rounded-full p-2"
                id="user-menu-button"
                aria-expanded="true"
                aria-haspopup="true"
                onclick="toggleDropdown()"
              >
                <span class="text-gray-700">Admin</span>
                <img src="./img/user.svg" alt="User" class="w-8 h-8" />
                <img
                  src="./img/drop_down.svg"
                  alt="Dropdown"
                  class="w-5 h-5 cursor-pointer"
                />
              </button>
            </div>

            <div
              id="user-dropdown"
              class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"
            >
              <div
                class="py-1"
                role="menu"
                aria-orientation="vertical"
                aria-labelledby="user-menu-button"
              >
                <a
                  href="/profile"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  role="menuitem"
                  >View Profile</a
                >
                <a
                  href="/logout"
                  class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                  role="menuitem"
                  >Logout</a
                >
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow p-4">
          <div class="flex justify-between items-center mb-4">
            <button class="bg-gray-200 text-gray-700 py-2 px-4 rounded-full">
              Tabel Barang
            </button>
            <button
              class="bg-green-400 text-gray-700 py-2 px-4 rounded-full"
              onclick="openAddItemModal()"
            >
              Tambah Barang
            </button>
          </div>

          <div class="overflow-x-auto">
            <table class="min-w-full bg-white border-0">
              <thead>
                <tr>
                  <th class="py-2 px-4 border-b text-left">ID</th>
                  <th class="py-2 px-4 border-b text-left">Nama Barang</th>
                  <th class="py-2 px-4 border-b text-left">Merk</th>
                  <th class="py-2 px-4 border-b text-left">Seri</th>
                  <th class="py-2 px-4 border-b text-left">Spesifikasi</th>
                  <th class="py-2 px-4 border-b text-left">Stok</th>
                  <th class="py-2 px-4 border-b text-left">Kategori</th>
                  <th class="py-2 px-4 border-b text-left">Aksi</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="py-2 px-4 border-b">1</td>
                  <td class="py-2 px-4 border-b">Lorem Ipsum</td>
                  <td class="py-2 px-4 border-b">Merk A</td>
                  <td class="py-2 px-4 border-b">Seri X</td>
                  <td class="py-2 px-4 border-b">Spesifikasi A</td>
                  <td class="py-2 px-4 border-b">10</td>
                  <td class="py-2 px-4 border-b">Kategori 1</td>
                  <td class="py-2 px-4 border-b">
                    <button
                      class="bg-blue-500 rounded-xl p-2"
                      onclick="openModal('Lorem Ipsum', 'Merk A', 'Seri X')"
                    >
                      <img
                        src="./img/more.svg"
                        alt="More Details"
                        class="w-5 h-5"
                      />
                    </button>
                  </td>
                </tr>
                <tr>
                  <td class="py-2 px-4 border-b">2</td>
                  <td class="py-2 px-4 border-b">Lorem Ipsum</td>
                  <td class="py-2 px-4 border-b">Merk B</td>
                  <td class="py-2 px-4 border-b">Seri Y</td>
                  <td class="py-2 px-4 border-b">Spesifikasi B</td>
                  <td class="py-2 px-4 border-b">5</td>
                  <td class="py-2 px-4 border-b">Kategori 2</td>
                  <td class="py-2 px-4 border-b">
                    <button
                      class="bg-blue-500 rounded-xl p-2"
                      onclick="openModal('Lorem Ipsum', 'Merk B', 'Seri Y')"
                    >
                      <img
                        src="./img/more.svg"
                        alt="More Details"
                        class="w-5 h-5"
                      />
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="flex justify-start mt-4 space-x-2">
            <button class="bg-gray-800 text-white py-1 px-3 rounded-xl">
              1
            </button>
            <button class="bg-gray-200 text-gray-700 py-1 px-3 rounded-xl">
              2
            </button>
            <span class="py-1 px-3">...</span>
            <button class="bg-gray-200 text-gray-700 py-1 px-3 rounded-xl">
              10
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal for Item Details -->
    <div
      id="static-modal"
      tabindex="-1"
      aria-hidden="true"
      class="hidden fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 justify-center items-center z-50"
    >
      <div class="relative p-4 w-full max-w-2xl">
        <div class="relative bg-white rounded-lg shadow">
          <div class="flex items-center justify-between p-4 border-b">
            <h3 id="modal-title" class="text-xl font-semibold text-gray-900">
              Detail Item
            </h3>
            <button
              type="button"
              class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8"
              onclick="closeModal()"
            >
              &times;
            </button>
          </div>
          <div class="p-4 space-y-4">
            <p
              id="modal-content"
              class="text-base leading-relaxed text-gray-500"
            >
              Detail informasi akan ditampilkan di sini.
            </p>
          </div>
          <div class="flex items-center p-4 border-t">
            <button
              type="button"
              class="text-white bg-blue-700 hover:bg-blue-800 rounded-lg px-4 py-2"
              onclick="editItem()"
            >
              Edit
            </button>
            <button
              type="button"
              class="text-gray-500 hover:bg-gray-200 rounded-lg px-4 py-2"
              onclick="deleteItem()"
            >
              Hapus
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for Adding Item -->
    <div
      id="add-item-modal"
      tabindex="-1"
      aria-hidden="true"
      class="hidden fixed top-0 left-0 w-full h-full bg-gray-900 bg-opacity-50 justify-center items-center z-50"
    >
      <div class="relative p-4 w-full max-w-md">
        <div class="relative bg-white rounded-lg shadow">
          <div class="flex items-center justify-between p-4 border-b">
            <h3 class="text-xl font-semibold text-gray-900">Tambah Barang</h3>
            <button
              type="button"
              class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8"
              onclick="closeAddItemModal()"
            >
              &times;
            </button>
          </div>
          <div class="p-4 space-y-4">
            <form id="add-item-form">
              <div>
                <label for="item-name" class="block text-gray-700"
                  >Nama Barang</label
                >
                <input
                  type="text"
                  id="item-name"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
              <div>
                <label for="item-merk" class="block text-gray-700">Merk</label>
                <input
                  type="text"
                  id="item-merk"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
              <div>
                <label for="item-seri" class="block text-gray-700">Seri</label>
                <input
                  type="text"
                  id="item-seri"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
              <div>
                <label for="item-specification" class="block text-gray-700"
                  >Spesifikasi</label
                >
                <input
                  type="text"
                  id="item-specification"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
              <div>
                <label for="item-stock" class="block text-gray-700">Stok</label>
                <input
                  type="number"
                  id="item-stock"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
              <div>
                <label for="item-category" class="block text-gray-700"
                  >Kategori</label
                >
                <input
                  type="text"
                  id="item-category"
                  required
                  class="w-full border rounded p-2"
                />
              </div>
            </form>
          </div>
          <div class="flex items-center p-4 border-t">
            <button
              type="button"
              class="text-white bg-green-600 hover:bg-green-700 rounded-lg px-4 py-2"
              onclick="addItem()"
            >
              Tambah
            </button>
            <button
              type="button"
              class="text-gray-500 hover:bg-gray-200 rounded-lg px-4 py-2"
              onclick="closeAddItemModal()"
            >
              Batal
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      function openModal(name, merk, seri) {
        const modalTitle = document.getElementById("modal-title");
        const modalContent = document.getElementById("modal-content");
        modalTitle.textContent = name;
        modalContent.textContent = `Merk: ${merk}, Seri: ${seri}`;
        document.getElementById("static-modal").classList.remove("hidden");
      }

      function closeModal() {
        document.getElementById("static-modal").classList.add("hidden");
      }

      function openAddItemModal() {
        document.getElementById("add-item-modal").classList.remove("hidden");
      }

      function closeAddItemModal() {
        document.getElementById("add-item-modal").classList.add("hidden");
      }

      function addItem() {
        const form = document.getElementById("add-item-form");
        const newItem = {
          name: form["item-name"].value,
          merk: form["item-merk"].value,
          seri: form["item-seri"].value,
          specification: form["item-specification"].value,
          stock: form["item-stock"].value,
          category: form["item-category"].value,
        };
        console.log("Item Added:", newItem);
        closeAddItemModal();
        form.reset(); // Reset the form after adding
      }

      function editItem() {
        alert(":/");
        closeModal();
      }

      function deleteItem() {
        alert(":/");
        closeModal();
      }

      function toggleDropdown() {
        const dropdown = document.getElementById("user-dropdown");
        dropdown.classList.toggle("hidden");
      }
    </script>
  </body>
</html>
